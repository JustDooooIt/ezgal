
[返回目录](./目录.md)

为使得剧本写作与演出设计更加便利, 语法设计中对剧本与演出进行了一定程度的分离. 以下分别针对剧本和演出进行说明:

## 剧本

### 对话框

台词可以采用`对话框`展示:

```
[对话框]
这是采用对话框的显示方式
少女:这是对话框下少女的说话方式
```

### 全屏

还可以用`全屏`展示:

```
[全屏]
全屏支持显示多段内容
但不支持由角色说话
全屏状态下支持同时说12行
[全屏]
我们也可以再次定义以提前切换行数
```

### 选项

`选项`的展示方式与`对话框`和`全屏`相同, 但是会将选项的内容进行存储, 并允许玩家进行选择:

```
[选项]
{script:测试3.txt}跳转测试3
{jump:循环1}跳转循环1
继续
[全屏]
选择全屏以后可以看到这段话
```

### 专业名词

台词支持bbcode语法, 我们可以通过使用以下方法定义一些专业名词:

```
[全屏]
这是一个[url=专业名词]专业名词[/url]
```

通过选择专业名词会出现字典框, 我们可以在dictionary文件夹定义`专业名词.txt`文件, 实现设置专业名词的功能.

## 演出

### 跳转

出现需要回溯的剧本位置时可以通过`@`设置跳转的**标记位置**, 比如以下方式:

```
@循环1
这里是一个死循环
{jump:循环1}
```

在进行跳转时会回到`@循环1`的位置, 除了设置**标记位置**之外的演出方式统一用大括号进行管理, 比如以下方式:

```
{bg:封面.png}#切换封面
{少女:normal.png-1200x650-1.1}少女:大家好#设置立绘
{script:测试2.txt, jump:循环1}#跳转到测试2脚本的循环1位置
```

### 演出参数

以下定义了大括号内的参数如下:

| 参数        | 说明                                                                                 | 例子                         |
| --------- | ---------------------------------------------------------------------------------- | -------------------------- |
| bg        | 设置背景, 背景应该在`./image/background/`文件夹中                                               | bg:封面.png                  |
| script    | 跳转到设定的脚本位置                                                                         | script:测试3.txt             |
| jump      | 跳转到设定的**标记位置**                                                                     | jump:循环1                   |
| ef        | 我想用来设置特效, 但是还未实现                                                                   |                            |
| [default] | 用来设置角色立绘, [default]需要在`./image/`文件夹下具备对应名字, 里面定义的名称如下`[图片名称]-[图片高度]x[图片宽度]-[缩放比例]` | 少女:normal.png-1200x650-1.1 |
